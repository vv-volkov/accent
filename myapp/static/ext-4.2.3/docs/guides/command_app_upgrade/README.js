Ext.data.JsonP.command_app_upgrade({"guide":"<h1>Understanding App Upgrade</h1>\n<div class='toc'>\n<p><strong>Contents</strong></p>\n<ol>\n<li><a href='#!/guide/command_app_upgrade-section-1'>Prerequisites</a></li>\n<li><a href='#!/guide/command_app_upgrade-section-2'>Upgrading Your Application</a></li>\n<li><a href='#!/guide/command_app_upgrade-section-3'>Upgrading The Sencha Cmd Scaffold</a></li>\n<li><a href='#!/guide/command_app_upgrade-section-4'>Upgrading Frameworks</a></li>\n<li><a href='#!/guide/command_app_upgrade-section-5'>Dealing With Merge Conflicts</a></li>\n<li><a href='#!/guide/command_app_upgrade-section-6'>Alternative Strategies</a></li>\n<li><a href='#!/guide/command_app_upgrade-section-7'>Next Steps</a></li>\n</ol>\n</div>\n\n<p>This guide explains how to manage upgrades of <a href=\"http://www.sencha.com/products/sencha-cmd/\">Sencha Cmd</a>\nand Sencha frameworks in your applications.</p>\n\n<h2 id='command_app_upgrade-section-1'>Prerequisites</h2>\n\n<p>The following guides are recommended reading before proceeding further:</p>\n\n<ul>\n<li><a href=\"#!/guide/command\">Introduction to Sencha Cmd</a>.</li>\n<li><a href=\"#!/guide/command_app\">Using Sencha Cmd</a>.</li>\n</ul>\n\n\n<h2 id='command_app_upgrade-section-2'>Upgrading Your Application</h2>\n\n<p>Generated applications include two basic kinds of content relevant to Sencha Cmd: build\nscripts (or scaffolding) and the important content of the target Sencha SDK's. As such,\nyou will occasionally need to upgrade these pieces. You can do this with the following\ncommand:</p>\n\n<pre><code>sencha app upgrade [ path-to-new-framework ]\n</code></pre>\n\n<p>The \"path-to-new-framework\" is optional and is used to upgrade both the Sencha Cmd\nscaffold <em>and</em> the framework used by the application.</p>\n\n<h3>Preparing to Upgrade</h3>\n\n<p>When performing any bulk operation on your application source code, it is highly advisable\nto start in a \"clean\" state with respect to version control. That is, it is best to have\nno uncommitted changes before performing the upgrade. This way, you can easily review and\npossibly discard changes made by <code>sencha app upgrade</code> with minimum trouble.</p>\n\n<h2 id='command_app_upgrade-section-3'>Upgrading The Sencha Cmd Scaffold</h2>\n\n<p>To bring up a new version of Sencha Cmd with your application produced by a previous\nversion, you can run this command from inside your application:</p>\n\n<pre><code>sencha app upgrade\n</code></pre>\n\n<p>This will replace the content of <code>\".sencha\"</code> but will also upgrade <code>\"app.js\"</code> as well as\na handful of other files.</p>\n\n<h2 id='command_app_upgrade-section-4'>Upgrading Frameworks</h2>\n\n<p>Since generated applications include their own copies of the SDK from which they were\noriginally generated, applications need to be updated to use a new version of the SDK.\nThe <code>sencha app upgrade</code> command will replace the old SDK copy with the new one:</p>\n\n<pre><code>sencha app upgrade ../downloads/ext-4.2.2\n</code></pre>\n\n<p>The above command points to the path to a downloaded and extracted SDK.</p>\n\n<p><strong>Important.</strong> Do not use the <code>-sdk</code> switch for this command as you would for the\n<code>sencha generate app</code> command. Instead use the command shown above.</p>\n\n<p>There may also be some changes made to generated source code if you are upgrading from\nExt JS 4.1 to 4.2+.</p>\n\n<h2 id='command_app_upgrade-section-5'>Dealing With Merge Conflicts</h2>\n\n<p>In Sencha Cmd, the code generator incorporates a 3-way merge to best reconcile the\ncode it generates with the code it generated last time and the current state of the code\nas you may have edited it. This approach allows you to edit files (like <code>\"spp.js\"</code>) in\nmany ways so long as your changes don't overlap those that Sencha Cmd wants to make.</p>\n\n<p>The merge process follows this pseudo-code for <code>\"app.js\"</code> (as an example):</p>\n\n<pre><code>mv app.js app.js.$old\nregenerate last version to app.js.$base\ngenerate new version to app.js\ndiff3 app.js.$base app.js.$old app.js\n</code></pre>\n\n<p>In the ideal scenario, you won't notice this mechanism at work. There are situations,\nhowever, in which you may receive an error message telling you there was a \"Merge conflict\"\nand that you need to resolve this manually.</p>\n\n<p>In cases where the base version cannot be recreated, the <code>\".$old\"</code> file is left on disk\nand you can compare it to the current version. Or you can use your source control system\nto compare the current file to what was last committed.</p>\n\n<p>When the base version could be produced (the majority case), the <code>\".$old\"</code> file is deleted\nbecause the conflicts are annotated in the target file in the standard way:</p>\n\n<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; Generated\n    // stuff that Sencha Cmd thinks belongs here\n=======\n    // stuff that you have changed which conflicts\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; Custom\n</code></pre>\n\n<h3>Using Visual Merge Tools</h3>\n\n<p>This process exactly matches what you might expect in a source control system for a file\nthat you and another user (in this case, Sencha Cmd) have both modified. As with version\ncontrol, the ideal way to resolve these issues is with a visual merge tool.</p>\n\n<p>To configure Sencha Cmd to invoke a merge tool when it encounters merge conflicts, you\nneed to set the following two properties:</p>\n\n<pre><code>cmd.merge.tool\ncmd.merge.tool.args\n</code></pre>\n\n<p>Setting the <code>cmd.merge.tool</code> property can be as simple as a program name if that program\nis in the PATH, but otherwise, it may need to be the full path to the executable.</p>\n\n<p>The corresponding <code>cmd.merge.tool.args</code> property should be set according to the command\nline arguments needed by the desired merge tool. This property is a template that can\ncontain the following replacement tokens:</p>\n\n<pre><code>cmd.merge.tool.args={base} {user} {generated} {out}\n</code></pre>\n\n<p>The template is first split on spaces <em>then</em> the tokens are replaced by actual files names.\nIf the merge tool has more custom needs, it may be necessary to set <code>cmd.merge.tool</code> to a\nshell script that can wrap the merge tool.</p>\n\n<h4>Merge Tool Helper Properties</h4>\n\n<p>Sencha Cmd provides properties to help configure several popular merge tools:</p>\n\n<p>For <a href=\"http://www.perforce.com/product/components/perforce-visual-merge-and-diff-tools\">p4merge</a>\nyou can set these properties like so:</p>\n\n<pre><code>cmd.merge.tool=p4merge\ncmd.merge.tool.args=${cmd.merge.tool.args.p4merge}\n</code></pre>\n\n<p>This assumes that <code>\"p4merge\"</code> is in your <code>PATH</code> environment variable. If not, you will need\nto fully specify the path to the executable.</p>\n\n<p>For <a href=\"http://www.sourcegear.com/diffmerge/index.html\">SourceGear</a>:</p>\n\n<pre><code>cmd.merge.tool.args=${cmd.merge.tool.args.sourcegear}\n</code></pre>\n\n<p>For <a href=\"http://sourceforge.net/projects/kdiff3/files/kdiff3/\">kdiff3</a>:</p>\n\n<pre><code>cmd.merge.tool.args=${cmd.merge.tool.args.kdiff3}\n</code></pre>\n\n<p>For Syntevo <a href=\"http://www.syntevo.com/smartsynchronize/index.html\">SmartSynchronize 3</a>:</p>\n\n<pre><code>cmd.merge.tool.args=${cmd.merge.tool.args.smartsync}\n</code></pre>\n\n<p>For <a href=\"http://tortoisesvn.net\">TortoiseMerge</a> (part of TortoiseSVN):</p>\n\n<pre><code>cmd.merge.tool.args=${cmd.merge.tool.args.tortoise}\n</code></pre>\n\n<p>For <a href=\"http://www.araxis.com/merge-overview.html\">AraxisMerge</a>:</p>\n\n<pre><code>cmd.merge.tool.args=${cmd.merge.tool.args.araxis}\n</code></pre>\n\n<h2 id='command_app_upgrade-section-6'>Alternative Strategies</h2>\n\n<p>If you have heavily customized your application, it is sometimes simpler to just generate\na new application in a temporary location and start by copying its <code>\".sencha\"</code> folder to\nreplace your own, being careful to reconcile any changes you may have made and incorporate\nthem in the new version.</p>\n\n<p>If you are using a workspace, you may need to copy the <code>\".sencha/workspace\"</code> folder from\nthe generated app to your workspace's <code>\".sencha\"</code> folder to replace the old version there.</p>\n\n<h2 id='command_app_upgrade-section-7'>Next Steps</h2>\n\n<ul>\n<li><a href=\"#!/guide/command_code\">Compiler-Friendly Code Guidelines</a></li>\n<li><a href=\"#!/guide/command_packages\">Sencha Cmd Packages</a></li>\n<li><a href=\"#!/guide/command_workspace\">Workspaces in Sencha Cmd</a></li>\n<li><a href=\"#!/guide/command_advanced\">Advanced Sencha Cmd</a></li>\n</ul>\n\n","title":"Understanding App Upgrade"});